<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<link href="css/bootstrap.css" rel="stylesheet" media="screen">
		<link rel="stylesheet" href="css/font-awesome.min.css">
	    <script src="http://code.jquery.com/jquery.js"></script>
	    <script src="js/bootstrap.js"></script>
	</head>
	<body>
		<div class="container">
		  <div class="row" style="padding-top:50px;">
		    <div class="bs-example" >
	          <div class="progress">
	            <div id="progress-bar" class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="">
	            	<span class="sr-only">45% Complete</span>
	            </div>
	          </div>
	          <i id="spinner" class="icon-spinner icon-spin icon-2x pull-left" style="display:none;"></i>
	          <button id="btn" type="button" class="btn btn-default bs-docs-activate-animated-progressbar active" data-toggle="button" aria-pressed="true" autocomplete="off">开始</button>
	        </div>
	        <div style="text-align: center;">
	          <span id="curTime" style="margin:0 auto;margin-right:10px;">0:00</span>/
	          <span id="totalTime" style="margin-left:10px;">3:22</span>
	        </div>
	      </div>
	    </div>
		
		
	    <script>
	      var p = 0;
	      var totalTime = $("#totalTime").html();
	      var totalArray = totalTime.split(":");
	      var totalCount = parseInt(totalArray[0] * 60) + parseInt(totalArray[1]);
	      
	      $(function(){
	        run();
	      });
	      
	      $("#btn").click(function(){
	      	$("#spinner").toggle();
	      });
	      
	      function run(){
	            p += 1/totalCount * 100;
	            $("#progress-bar").attr("style","width:"+p+"%");
	            $("#curTime").html();
	            if(p<100){
	                var timer=setTimeout("run()",1000);
	            }else{
	                p = 0;
	                var timer=setTimeout("run()",1000);
	            }
	      }
	      
      	</script>
	</body>
</html>
